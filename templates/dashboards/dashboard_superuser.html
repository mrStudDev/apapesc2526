
{% extends 'base.html' %}
{% load static %}
{% block title %}SuperDash {% endblock %}

{% block extra_css %}
    <link rel="stylesheet" href="{% static 'css/associado.css' %}"> <!-- Cards-->
    <link rel="stylesheet" href="{% static 'css/dash_superuser.css' %}"> 
    <link rel="stylesheet" href="{% static 'css/tabs.css' %}">
    <link rel="stylesheet" href="{% static 'css/listas.css' %}">
    <link rel="stylesheet" href="{% static 'css/mensagens.css' %}">  
{% endblock %}

<!--Bloco P√°gina -->
{% block content %}
{% include 'components/navbar_superuser.html' %}

    <div class="dashboard-container">
        <div id="toast-container">
            {% for message in messages %}
                {% with message.tags as tag %}
                    <div class="toast 
                        {% if 'success' in tag %}toast-success{% elif 'error' in tag or 'danger' in tag %}toast-error
                        {% elif 'info' in tag %}toast-info
                        {% elif 'warning' in tag %}toast-warning
                        {% else %}toast-info{% endif %}">
                        <span>{{ message }}</span>
                        <button class="toast-close" onclick="this.parentElement.remove()">√ó</button>
                    </div>
                {% endwith %}
            {% endfor %}
        </div>

        <!--Tabs-->
        <div class="tabs">
            <button class="tab-link active" data-tab="superdash">SuperDash</button>
            <button class="tab-link" data-tab="anuidades">Anuidades</button>
            <button class="tab-link" data-tab="defesos">Defesos</button>


        </div>

        <div class="tab-content active" id="tab-superdash">
            <div>
                <h1>Bem-vindo ao Dashboard do Superusu√°rio</h1>
                <p>Este √© o painel de controle para superusu√°rios.</p>
            </div>

        </div>        

        <div class="tab-content" id="tab-anuidades">
            <header class="dashboard-header">
                <h1>Anuidades</h1>
                <div class="dashboard-links">
                <a href="{% url 'app_anuidades:create_anuidade' %}" class="dashboard-link">‚ûï Cadastrar Anuidade</a>
                -- <a href="{% url 'app_anuidades:list_anuidades' %}" class="dashboard-link">üìÑ Lan√ßamentos Anuidades</a>
                -- <a href="{% url 'app_anuidades:list_buca_anuidades' %}" class="dashboard-link">üìä Lista Triangular</a>
                -- <a href="#" class="dashboard-link">üí≥ Pagamentos Efetuados</a>
                </div><br>
                <div class="header-widgets">
                    <div class="widget">
                        <h2>Anuidades Lan√ßadas</h2>
                        <p class="widget-value">{{ qtd_anos_lancados }}</p>
                    </div>
                    <div class="widget">
                        <h2>Qtd Aplicadas</h2>
                        <p class="widget-value">{{ total_anuidades_aplicadas }}</p>
                    </div>
                    <div class="widget">
                        <h2>Arrecada√ß√£o</h2>
                        <p class="widget-value">{{ total_valor_aplicado|floatformat:2 }}</p>
                    </div>
                </div>

            </header>
            <section class="dashboard-section">
                <div class="section-content">
                
                    <div class="widget">
                        <h2>Cadastrados</h2>
                        <p class="widget-value">{{ total_cadastrados }}</p>
                    </div>
                    <div class="widget">
                        <h2>Ativos</h2>
                        <p class="widget-value">{{ associados_ativos }}</p>
                    </div>
                    <div class="widget">
                        <h2>Aposentados</h2>
                        <p class="widget-value">{{ associados_aposentados }}</p>
                    </div>
                    <div class="widget">
                        <h2>Pagantes</h2>
                        <p class="widget-value">{{ total_pagantes }}</p>
                    </div>                    
                </div>
            </section>

            <section class="dashboard-section">
                <div class="section-content">
                    <div class="card">
                        <h3>Valor Arrecado</h3>
                        <p class="card-value">{{ total_arrecadado|floatformat:2 }}</p>
                    </div>
                    <div class="card">
                        <h3>Descontos</h3>
                        <p class="card-value">{{ total_descontos_concedidos|floatformat:2 }}</p>
                    </div>
                    <div class="card">
                        <h3>Anuidades Pagas</h3>
                        <p class="card-value">{{ total_anuidades_pagas }}</p>
                    </div>
                    <div class="card">
                        <h3>Anuidades Em Aberto</h3>
                        <p class="card-value">{{ total_anuidades_nao_pagas }}</p>
                    </div>
                    <div class="card">
                        <h3>√Å Receber</h3>
                        <p class="card-value"> {{ valor_anuidades_aberto|floatformat:2 }}</p>
                    </div>                
                </div>
            </section>

            <section class="dashboard-section">
                <h2>Lan√ßamentos</h2>
                <table class="table-list-small">
                    <thead>
                        <tr>
                            <th>Ano</th>
                            <th>Valor Unit√°rio</th>
                            <th>Qtd Aplicadas</th>
                            <th>Valor Total Ano</th>
                        </tr>
                    </thead>
                    <tbody>
                        {% for item in dados_por_ano %}
                        <tr>
                            <td>{{ item.ano }}</td>
                            <td>R$ {{ item.valor_unitario|floatformat:2 }}</td>
                            <td>{{ item.qtd_aplicadas }}</td>
                            <td>R$ {{ item.valor_total_ano|floatformat:2 }}</td>
                        </tr>
                        {% empty %}
                        <tr><td colspan="4">Nenhuma anuidade lan√ßada.</td></tr>
                        {% endfor %}
                    </tbody>
                </table>
            </section>
        </div>
        <div class="tab-content" id="tab-defesos">
            <div class="detail-section three-cols">
<div class="links-fasts">
    <h2>Formul√°rios de Cria√ß√£o</h2>

    <p><strong>Benef√≠cio:</strong> 
        <a href="{% url 'app_defeso:create_beneficio' %}" class="btn-action">Lan√ßar novo Benef√≠cio</a>
    </p>
    <p><strong>Lei Federal:</strong> 
        <a href="{% url 'app_defeso:create_lei_federal' %}" class="btn-action">Lan√ßar nova Lei Federal</a>
    </p>
    <p><strong>Decreto:</strong> 
        <a href="{% url 'app_defeso:create_decreto' %}" class="btn-action">Lan√ßar novo Decreto</a>
    </p>
    <p><strong>Portaria:</strong> 
        <a href="{% url 'app_defeso:create_portaria' %}" class="btn-action">Lan√ßar nova Portaria</a>
    </p>
    <p><strong>Esp√©cie:</strong> 
        <a href="{% url 'app_defeso:create_especie' %}" class="btn-action">Lan√ßar nova Esp√©cie</a>
    </p>
    <p><strong>Per√≠odo:</strong> 
        <a href="{% url 'app_defeso:create_periodo' %}" class="btn-action">Lan√ßar novo Per√≠odo</a>
    </p>
    <p><strong>Instr. Normativa:</strong> 
        <a href="{% url 'app_defeso:create_instrucao_normativa' %}" class="btn-action">Lan√ßar nova Instr. Normativa</a>
    </p>
</div>

                <div>
                    <h2>Dados</h2>
                    <p><strong>Dados</strong> {{associado.associacao.email}}</p>
                    <p><strong>Dados Site: </strong> {{associado.senha_site}}</p>
                    <p><strong>Dados Google: </strong> {{associado.senha_google}}</p>
                </div> 
                <div>
                    <h2>Dados</h2>

                </div> 
            </div>
        </div>                     
    </div>

{% block extra_js %}
    <script src="{% static 'js/tabs.js' %}"></script>

{% endblock %}
{% endblock %}